{"ast":null,"code":"var _jsxFileName = \"/home/gungorerhan/Dev/bluetooth-localization/ips frontend/src/components/Personcard.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './Personcard.css';\nimport ListPersons from './ListPersons';\nimport ListCards from './ListCards';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nclass Personcard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      persons: [],\n      cards: [],\n      filtered_persons: [],\n      filtered_cards: [],\n      items: [],\n      boolean: false,\n      the_card_id: \"\"\n    };\n\n    this.handle_click_1 = e => {\n      this.setState({\n        boolean: false\n      });\n      document.getElementById(\"add_person_personid\").value = \"\";\n      document.getElementById(\"add_person_cardid\").value = \"\";\n      document.getElementById(\"add_person_firstname\").value = \"\";\n      document.getElementById(\"add_person_lastname\").value = \"\";\n      document.getElementById(\"add_card_cardid\").value = \"\";\n      document.getElementById(\"info_message\").innerHTML = \"\";\n      document.getElementsByClassName(\"op_active\")[0].className = \"op_passive\";\n\n      if (e.target.innerHTML === \"Add Person\" || e.target.innerHTML === \"Update Person\") {\n        document.getElementById(\"operation_title\").innerHTML = e.target.innerHTML;\n        document.getElementById(\"add_person\").className = \"small_div op_active\";\n        document.getElementById(\"add_person_butt\").className = \"operation_button\";\n        document.getElementById(\"update_person_butt\").className = \"hide_button\";\n        document.getElementById(\"delete_person_butt\").className = \"hide_button\";\n      } else if (e.target.innerHTML === \"Add Card\" || e.target.innerHTML === \"Update Card\") {\n        document.getElementById(\"operation_title\").innerHTML = e.target.innerHTML;\n        document.getElementById(\"add_card\").className = \"small_div op_active\";\n      }\n    };\n\n    this.handle_click_2 = e => {\n      document.getElementById(\"info_message\").innerHTML = \"\";\n      document.getElementsByClassName(\"op_active\")[0].className = \"op_passive\";\n\n      if (e.target.innerHTML === \"Show Persons\") {\n        document.getElementById(\"operation_title\").innerHTML = e.target.innerHTML;\n        document.getElementById(\"show_persons\").className = \"list_div op_active\";\n        document.getElementsByClassName(\"\"); // get persons from server in order to show them\n\n        axios.get(`https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/person`).then(res => {\n          const data = res.data;\n          var keys = Object.keys(data);\n          var values = Object.values(data);\n          let temp_persons = [];\n\n          for (var i = 0; i < keys.length; i++) {\n            var person = {\n              person_id: keys[i],\n              first_name: values[i].firstName,\n              last_name: values[i].lastName,\n              card_id: values[i].cardId\n            };\n            let persons = [...temp_persons, person];\n            temp_persons = persons;\n          }\n\n          this.setState({\n            persons: temp_persons\n          });\n          this.handle_filter_person();\n        });\n      } else if (e.target.innerHTML === \"Show Cards\") {\n        document.getElementById(\"operation_title\").innerHTML = e.target.innerHTML;\n        document.getElementById(\"delete_card\").className = \"list_div op_active\"; // get cards from server in order to show them\n\n        axios.get(`https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/card`).then(res => {\n          const data = res.data;\n          var keys = Object.keys(data);\n          let temp_cards = [];\n\n          for (var i = 0; i < keys.length; i++) {\n            var card = {\n              card_id: keys[i]\n            };\n            let cards = [...temp_cards, card];\n            temp_cards = cards;\n          }\n\n          this.setState({\n            cards: temp_cards\n          });\n          this.handle_filter_card();\n        });\n      }\n    };\n\n    this.handle_show = (id, first_name, last_name, card_id) => {\n      document.getElementById(\"info_message\").innerHTML = \"\";\n      document.getElementsByClassName(\"op_active\")[0].className = \"op_passive\";\n      document.getElementById(\"operation_title\").innerHTML = \"show person\";\n      document.getElementById(\"add_person\").className = \"small_div op_active\";\n      document.getElementById(\"add_person_butt\").className = \"hide_button\";\n      document.getElementById(\"update_person_butt\").className = \"operation_button\";\n      document.getElementById(\"delete_person_butt\").className = \"operation_button\";\n      this.setState({\n        boolean: true\n      });\n      document.getElementById(\"add_person_personid\").value = id;\n      document.getElementById(\"add_person_cardid\").value = card_id;\n      document.getElementById(\"add_person_firstname\").value = first_name;\n      document.getElementById(\"add_person_lastname\").value = last_name;\n    };\n\n    this.handle_delete_person = () => {\n      var person_id = document.getElementById(\"add_person_personid\").value;\n      confirmAlert({\n        title: 'Delete the person',\n        message: \"Person ID: \" + person_id,\n        buttons: [{\n          label: 'Yes',\n          onClick: () => {\n            var url = \"https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/person?personId=\\\"\" + person_id + \"\\\"\";\n            axios.delete(url).then(res => {\n              if (res.status === 200) {\n                document.getElementById(\"info_message\").innerHTML = \"Person is deleted succesfully!\";\n                document.getElementById(\"add_person_personid\").value = \"\";\n                document.getElementById(\"add_person_cardid\").value = \"\";\n                document.getElementById(\"add_person_firstname\").value = \"\";\n                document.getElementById(\"add_person_lastname\").value = \"\";\n              } else {\n                document.getElementById(\"info_message\").innerHTML = \"Person is not deleted!\";\n              }\n            });\n          }\n        }, {\n          label: 'No' // No action\n\n        }]\n      });\n    };\n\n    this.handle_add_card = () => {\n      if (document.getElementById(\"add_card_cardid\").value === \"\") {\n        console.log(\"errrorr\");\n      } else {\n        var params = {\n          cardId: document.getElementById(\"add_card_cardid\").value\n        };\n        axios.post('https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/card', params).then(res => {\n          if (res.status === 200) {\n            document.getElementById(\"info_message\").innerHTML = \"Card is added succesfully!\";\n            document.getElementById(\"add_card_cardid\").value = \"\";\n          } else {\n            document.getElementById(\"info_message\").innerHTML = \"Card is not added!\";\n          }\n        });\n      }\n    };\n\n    this.handle_delete_card = card_id => {\n      confirmAlert({\n        title: 'Delete the card',\n        message: \"Card ID: \" + card_id,\n        buttons: [{\n          label: 'Yes',\n          onClick: () => {\n            var url = \"https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/card?cardId=\\\"\" + card_id + \"\\\"\";\n            axios.delete(url).then(res => {\n              if (res.status === 200) {\n                document.getElementById(\"info_message\").innerHTML = \"Card is deleted succesfully!\";\n                document.getElementById(\"add_card_cardid\").value = \"\";\n                this.setState({\n                  cards: this.state.cards.filter(function (card) {\n                    return card.card_id != card_id;\n                  })\n                });\n                this.handle_filter_card();\n              } else {\n                document.getElementById(\"info_message\").innerHTML = \"Card is not deleted!\";\n              }\n            });\n          }\n        }, {\n          label: 'No' // No action\n\n        }]\n      });\n    };\n\n    this.handle_filter_card = () => {\n      var input_value = document.getElementById(\"card_input\").value;\n\n      if (input_value === \"\") {\n        this.setState({\n          filtered_cards: this.state.cards\n        });\n      } else {\n        this.setState({\n          filtered_cards: this.state.cards.filter(function (card) {\n            return card.card_id == input_value;\n          })\n        });\n      }\n    };\n\n    this.handle_filter_person = () => {\n      var input_value = document.getElementById(\"person_input\").value;\n      console.log(input_value);\n\n      if (input_value === \"\") {\n        this.setState({\n          filtered_persons: this.state.persons\n        });\n      } else {\n        this.setState({\n          filtered_persons: this.state.persons.filter(function (person) {\n            var full_name = person.first_name + \" \" + person.last_name;\n            return person.person_id == input_value || person.first_name.toLowerCase() == input_value.toLowerCase() || person.last_name.toLowerCase() == input_value.toLowerCase() || full_name.toLowerCase() == input_value.toLowerCase();\n          })\n        });\n      }\n\n      console.log(this.state.filtered_persons);\n    };\n  }\n\n  // Add person to server\n  handle_add_person() {\n    if (document.getElementById(\"add_person_personid\").value === \"\" || document.getElementById(\"add_person_cardid\").value === \"\" || document.getElementById(\"add_person_firstname\").value === \"\" || document.getElementById(\"add_person_lastname\").value === \"\") {} else {\n      // create person variable\n      var params = {\n        personId: document.getElementById(\"add_person_personid\").value,\n        firstName: document.getElementById(\"add_person_firstname\").value,\n        lastName: document.getElementById(\"add_person_lastname\").value,\n        cardId: document.getElementById(\"add_person_cardid\").value\n      }; // insert person to server\n\n      axios.post('https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/person', params).then(res => {\n        if (res.status === 200) {\n          document.getElementById(\"info_message\").innerHTML = \"Person is added succesfully!\";\n          document.getElementById(\"add_person_personid\").value = \"\";\n          document.getElementById(\"add_person_cardid\").value = \"\";\n          document.getElementById(\"add_person_firstname\").value = \"\";\n          document.getElementById(\"add_person_lastname\").value = \"\";\n        } else {\n          document.getElementById(\"info_message\").innerHTML = \"Person is not added!\";\n        }\n      });\n    }\n  } // update person information\n\n\n  handle_update_person() {\n    if (document.getElementById(\"add_person_personid\").value === \"\" || document.getElementById(\"add_person_cardid\").value === \"\" || document.getElementById(\"add_person_firstname\").value === \"\" || document.getElementById(\"add_person_lastname\").value === \"\") {\n      console.log(\"errrorr\");\n    } else {\n      var params = {\n        personId: document.getElementById(\"add_person_personid\").value,\n        firstName: document.getElementById(\"add_person_firstname\").value,\n        lastName: document.getElementById(\"add_person_lastname\").value,\n        cardId: document.getElementById(\"add_person_cardid\").value\n      }; // update person information to server\n\n      axios.put('https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/person', params).then(res => {\n        if (res.status === 200) {\n          document.getElementById(\"info_message\").innerHTML = \"Person is updated succesfully!\";\n        } else {\n          document.getElementById(\"info_message\").innerHTML = \"Person is not updated!\";\n        }\n      });\n    }\n  } // delete person by his id\n\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"person_card_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"personcard_menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"side_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, \"PERSON\"), React.createElement(\"p\", {\n      className: \"side_link\",\n      onClick: this.handle_click_1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, \"Add Person\"), React.createElement(\"p\", {\n      className: \"side_link\",\n      onClick: this.handle_click_2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"Show Persons\"), React.createElement(\"p\", {\n      className: \"side_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, \"CARD\"), React.createElement(\"p\", {\n      className: \"side_link\",\n      onClick: this.handle_click_1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, \"Add Card\"), React.createElement(\"p\", {\n      className: \"side_link\",\n      onClick: this.handle_click_2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, \"Show Cards\")), React.createElement(\"div\", {\n      id: \"operation_div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      id: \"operation_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, \"Add Person\"), React.createElement(\"p\", {\n      id: \"info_message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"add_person\",\n      className: \"small_div op_active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, \"Person ID:\"), React.createElement(\"input\", {\n      id: \"add_person_personid\",\n      maxLength: \"20\",\n      readOnly: this.state.boolean,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, \"Card ID:\"), React.createElement(\"input\", {\n      id: \"add_person_cardid\",\n      maxLength: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, \"First Name:\"), React.createElement(\"input\", {\n      id: \"add_person_firstname\",\n      maxLength: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, \"Last Name:\"), React.createElement(\"input\", {\n      id: \"add_person_lastname\",\n      maxLength: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      id: \"add_person_butt\",\n      className: \"operation_button\",\n      type: \"submit\",\n      value: \"Add Person\",\n      onClick: this.handle_add_person,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      id: \"delete_person_butt\",\n      className: \"hide_button\",\n      type: \"submit\",\n      value: \"Delete\",\n      onClick: this.handle_delete_person,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      id: \"update_person_butt\",\n      className: \"hide_button\",\n      type: \"submit\",\n      value: \"Update\",\n      onClick: this.handle_update_person,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"add_card\",\n      className: \"small_div op_passive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, \"Card ID:\"), React.createElement(\"input\", {\n      id: \"add_card_cardid\",\n      maxLength: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      id: \"add_card_butt\",\n      className: \"operation_button\",\n      type: \"submit\",\n      value: \"Add Card\",\n      onClick: this.handle_add_card,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"show_persons\",\n      className: \"list_div op_passive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }, React.createElement(ListPersons, {\n      persons: this.state.filtered_persons,\n      handle_show: this.handle_show,\n      handle_filter_person: this.handle_filter_person,\n      div_1: document.getElementById(\"personcard_menu\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"delete_card\",\n      className: \"list_div op_passive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, React.createElement(ListCards, {\n      cards: this.state.filtered_cards,\n      handle_delete: this.handle_delete_card,\n      handle_filter_card: this.handle_filter_card,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Personcard;","map":{"version":3,"sources":["/home/gungorerhan/Dev/bluetooth-localization/ips frontend/src/components/Personcard.js"],"names":["React","Component","axios","ListPersons","ListCards","confirmAlert","Personcard","state","persons","cards","filtered_persons","filtered_cards","items","boolean","the_card_id","handle_click_1","e","setState","document","getElementById","value","innerHTML","getElementsByClassName","className","target","handle_click_2","get","then","res","data","keys","Object","values","temp_persons","i","length","person","person_id","first_name","firstName","last_name","lastName","card_id","cardId","handle_filter_person","temp_cards","card","handle_filter_card","handle_show","id","handle_delete_person","title","message","buttons","label","onClick","url","delete","status","handle_add_card","console","log","params","post","handle_delete_card","filter","input_value","full_name","toLowerCase","handle_add_person","personId","handle_update_person","put","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './Personcard.css';\nimport ListPersons from './ListPersons';\nimport ListCards from './ListCards';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\n\nclass Personcard extends Component{\n    \n    // boolean value for edit_texts  editable or not\n    state = {\n        persons: [],\n        cards: [],\n        filtered_persons:[],\n        filtered_cards:[],\n        items: [],\n        boolean: false,\n        the_card_id: \"\"\n    }\n    \n    // Show add person or add card page\n    handle_click_1 = (e) =>{\n        this.setState({boolean: false})\n        document.getElementById(\"add_person_personid\").value = \"\"; \n        document.getElementById(\"add_person_cardid\").value = \"\";  \n        document.getElementById(\"add_person_firstname\").value = \"\"; \n        document.getElementById(\"add_person_lastname\").value = \"\";\n        document.getElementById(\"add_card_cardid\").value = \"\";\n        document.getElementById(\"info_message\").innerHTML = \"\";\n        document.getElementsByClassName(\"op_active\")[0].className = \"op_passive\";\n        if (e.target.innerHTML === \"Add Person\" || e.target.innerHTML === \"Update Person\"){\n            document.getElementById(\"operation_title\").innerHTML = e.target.innerHTML;\n            document.getElementById(\"add_person\").className = \"small_div op_active\";\n            document.getElementById(\"add_person_butt\").className = \"operation_button\";\n            document.getElementById(\"update_person_butt\").className = \"hide_button\";\n            document.getElementById(\"delete_person_butt\").className = \"hide_button\";\n        }\n        else if (e.target.innerHTML === \"Add Card\" || e.target.innerHTML === \"Update Card\"){\n            document.getElementById(\"operation_title\").innerHTML = e.target.innerHTML;\n            document.getElementById(\"add_card\").className = \"small_div op_active\";\n        }\n    }\n    \n    // Show   show person or show card page\n    handle_click_2 = (e) =>{\n        document.getElementById(\"info_message\").innerHTML = \"\";\n        document.getElementsByClassName(\"op_active\")[0].className = \"op_passive\";\n        if (e.target.innerHTML === \"Show Persons\"){\n            document.getElementById(\"operation_title\").innerHTML = e.target.innerHTML;\n            document.getElementById(\"show_persons\").className = \"list_div op_active\";\n            document.getElementsByClassName(\"\")\n\n            // get persons from server in order to show them\n            axios.get(`https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/person`)\n                .then(res => {\n                const data = res.data;\n                var keys = Object.keys(data);\n                var values = Object.values(data);\n                let temp_persons = [];\n\n                for (var i = 0; i < keys.length; i++){\n                    var person = {\n                        person_id: keys[i],\n                        first_name: values[i].firstName,\n                        last_name: values[i].lastName,\n                        card_id: values[i].cardId\n                    }\n                    let persons = [...temp_persons, person];\n                    temp_persons = persons;\n                }\n\n                this.setState({\n                    persons: temp_persons\n                })         \n                this.handle_filter_person();   \n            })\n            \n            \n        }\n        else if (e.target.innerHTML === \"Show Cards\"){\n            document.getElementById(\"operation_title\").innerHTML = e.target.innerHTML;\n            document.getElementById(\"delete_card\").className = \"list_div op_active\";\n\n            // get cards from server in order to show them\n            axios.get(`https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/card`)\n                .then(res => {\n                const data = res.data;\n                var keys = Object.keys(data);\n                let temp_cards = [];\n\n                for (var i = 0; i < keys.length; i++){\n                    var card = {\n                        card_id: keys[i]\n                    }\n                    let cards = [...temp_cards, card];\n                    temp_cards = cards;\n                }\n\n                this.setState({\n                    cards: temp_cards\n                })         \n                this.handle_filter_card();   \n            })\n        }\n    }\n\n    \n\n    handle_show = (id, first_name, last_name, card_id) =>{\n        document.getElementById(\"info_message\").innerHTML = \"\";\n        document.getElementsByClassName(\"op_active\")[0].className = \"op_passive\";\n        document.getElementById(\"operation_title\").innerHTML = \"show person\";\n        document.getElementById(\"add_person\").className = \"small_div op_active\";\n        document.getElementById(\"add_person_butt\").className = \"hide_button\";\n        document.getElementById(\"update_person_butt\").className = \"operation_button\";\n        document.getElementById(\"delete_person_butt\").className = \"operation_button\";\n\n        this.setState({boolean: true})\n\n        document.getElementById(\"add_person_personid\").value = id;\n        document.getElementById(\"add_person_cardid\").value = card_id;\n        document.getElementById(\"add_person_firstname\").value = first_name;\n        document.getElementById(\"add_person_lastname\").value = last_name;\n\n        \n    }\n\n    // Add person to server\n    handle_add_person(){\n        if( document.getElementById(\"add_person_personid\").value === \"\" || \n            document.getElementById(\"add_person_cardid\").value === \"\" ||  \n            document.getElementById(\"add_person_firstname\").value === \"\" || \n            document.getElementById(\"add_person_lastname\").value === \"\"){\n            }\n        else{\n            // create person variable\n            var params = {\n                personId: document.getElementById(\"add_person_personid\").value,\n                firstName: document.getElementById(\"add_person_firstname\").value,\n                lastName: document.getElementById(\"add_person_lastname\").value,\n                cardId: document.getElementById(\"add_person_cardid\").value\n            }\n\n            // insert person to server\n            axios.post('https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/person', params).then(res => {\n                if(res.status === 200){\n                    document.getElementById(\"info_message\").innerHTML = \"Person is added succesfully!\";\n                    document.getElementById(\"add_person_personid\").value = \"\"; \n                    document.getElementById(\"add_person_cardid\").value = \"\";  \n                    document.getElementById(\"add_person_firstname\").value = \"\"; \n                    document.getElementById(\"add_person_lastname\").value = \"\";\n                }\n                else{\n                    document.getElementById(\"info_message\").innerHTML = \"Person is not added!\";\n                }\n            });\n\n            \n\n        }\n        \n    }\n\n\n    // update person information\n    handle_update_person(){\n        if( document.getElementById(\"add_person_personid\").value === \"\" || \n            document.getElementById(\"add_person_cardid\").value === \"\" ||  \n            document.getElementById(\"add_person_firstname\").value === \"\" || \n            document.getElementById(\"add_person_lastname\").value === \"\"){\n                console.log(\"errrorr\");\n            }\n        else{\n            var params = {\n                personId: document.getElementById(\"add_person_personid\").value,\n                firstName: document.getElementById(\"add_person_firstname\").value,\n                lastName: document.getElementById(\"add_person_lastname\").value,\n                cardId: document.getElementById(\"add_person_cardid\").value\n            }\n\n            // update person information to server\n            axios.put('https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/person', params).then(res => {\n                if(res.status === 200){\n                    document.getElementById(\"info_message\").innerHTML = \"Person is updated succesfully!\";\n                }\n                else{\n                    document.getElementById(\"info_message\").innerHTML = \"Person is not updated!\";\n                }\n            });\n        }\n        \n    }\n\n    // delete person by his id\n    handle_delete_person = () =>{\n        var person_id = document.getElementById(\"add_person_personid\").value;\n        confirmAlert({\n            title: 'Delete the person',\n            message: \"Person ID: \" + person_id,\n            buttons: [\n              {\n                label: 'Yes',\n                onClick: () => {\n                    var url = \"https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/person?personId=\\\"\" + person_id + \"\\\"\";\n                    axios.delete(url).then(res => {\n                        if(res.status === 200){\n                            document.getElementById(\"info_message\").innerHTML = \"Person is deleted succesfully!\";\n                            document.getElementById(\"add_person_personid\").value = \"\"; \n                            document.getElementById(\"add_person_cardid\").value = \"\";  \n                            document.getElementById(\"add_person_firstname\").value = \"\"; \n                            document.getElementById(\"add_person_lastname\").value = \"\";\n        \n                        }\n                        else{\n                            document.getElementById(\"info_message\").innerHTML = \"Person is not deleted!\";\n                        }\n                    });\n                    \n                }\n              },\n              {\n                label: 'No',\n                // No action\n              }\n            ]\n          });\n    }\n\n    // add card to server\n    handle_add_card = () =>{\n        if( document.getElementById(\"add_card_cardid\").value === \"\" ){\n                console.log(\"errrorr\");\n            }\n        else{\n            var params = {\n                cardId: document.getElementById(\"add_card_cardid\").value\n            }\n            axios.post('https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/card', params)\n            .then(res => {\n                if(res.status === 200){\n                    document.getElementById(\"info_message\").innerHTML = \"Card is added succesfully!\";\n                    document.getElementById(\"add_card_cardid\").value = \"\";\n                }\n                else{\n                    document.getElementById(\"info_message\").innerHTML = \"Card is not added!\";\n                }\n            });\n        }\n    }\n\n    // delete card from server by its card id\n    handle_delete_card = (card_id) => {\n        confirmAlert({\n            title: 'Delete the card',\n            message: \"Card ID: \" + card_id,\n            buttons: [\n              {\n                label: 'Yes',\n                onClick: () => {\n                    var url = \"https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/card?cardId=\\\"\" + card_id + \"\\\"\";\n                    axios.delete(url   \n                    )\n                    .then(res => {\n                        if(res.status === 200){\n                            document.getElementById(\"info_message\").innerHTML = \"Card is deleted succesfully!\";\n                            document.getElementById(\"add_card_cardid\").value = \"\";\n\n                            this.setState({\n                                cards: this.state.cards.filter(function(card){\n                                    return card.card_id != card_id\n                                })\n                            })\n                            this.handle_filter_card();\n                        }\n                        else{\n                            document.getElementById(\"info_message\").innerHTML = \"Card is not deleted!\";\n                        }\n                    });\n        \n                }\n              },\n              {\n                label: 'No',\n                // No action\n              }\n            ]\n          });\n    }\n\n\n    // search a card by its id\n    handle_filter_card = () =>{\n        var input_value = document.getElementById(\"card_input\").value;\n        if(input_value === \"\"){\n            this.setState({filtered_cards: this.state.cards});\n        }\n        else{\n            this.setState({\n                filtered_cards: this.state.cards.filter(function(card){\n                    return card.card_id == input_value\n                })\n            })\n        }\n    }\n\n    // search person by name or by person id\n    handle_filter_person = () => {\n        var input_value = document.getElementById(\"person_input\").value;\n        console.log(input_value);\n        if( input_value === \"\"){\n            this.setState({filtered_persons: this.state.persons});\n        }\n        else{\n            this.setState({\n                filtered_persons: this.state.persons.filter(function(person){\n                    var full_name = person.first_name + \" \" + person.last_name;\n                    return person.person_id == input_value \n                                || person.first_name.toLowerCase() == input_value.toLowerCase() \n                                || person.last_name.toLowerCase() == input_value.toLowerCase()\n                                || full_name.toLowerCase() == input_value.toLowerCase()\n                })\n            })\n        }\n        console.log(this.state.filtered_persons);\n\n    }\n\n    render(){\n        return(\n            <div id=\"person_card_container\">\n                <div id=\"personcard_menu\">\n                    <p className=\"side_title\">PERSON</p>\n                    <p className=\"side_link\" onClick={this.handle_click_1}>Add Person</p>\n                    <p className=\"side_link\" onClick={this.handle_click_2}>Show Persons</p>\n                    <p className=\"side_title\">CARD</p>\n                    <p className=\"side_link\" onClick={this.handle_click_1}>Add Card</p>\n                    <p className=\"side_link\" onClick={this.handle_click_2}>Show Cards</p>\n                </div>\n                <div id=\"operation_div\">\n                    <h1 id=\"operation_title\">Add Person</h1>\n                    <p id=\"info_message\"></p>\n                    <div id=\"add_person\" className=\"small_div op_active\">\n                        <div>\n                            <div>\n                                <p>Person ID:</p>\n                                <input id=\"add_person_personid\" maxLength=\"20\" readOnly={this.state.boolean}></input>\n                            </div>\n                            <div>\n                                <p>Card ID:</p>\n                                <input id=\"add_person_cardid\" maxLength=\"10\" ></input>\n                            </div>\n                            <div>\n                                <p>First Name:</p>\n                                <input id=\"add_person_firstname\" maxLength=\"50\" ></input>\n                            </div>\n                            <div>\n                                <p>Last Name:</p>\n                                <input id=\"add_person_lastname\" maxLength=\"50\" ></input>\n                            </div>\n                        </div>\n                        <input id=\"add_person_butt\" className=\"operation_button\" type=\"submit\" \n                                value=\"Add Person\" onClick={this.handle_add_person}></input>\n                        <input id=\"delete_person_butt\" className=\"hide_button\" type=\"submit\" \n                                value=\"Delete\" onClick={this.handle_delete_person}></input>\n                        <input id=\"update_person_butt\" className=\"hide_button\" type=\"submit\" \n                                value=\"Update\" onClick={this.handle_update_person}></input>\n                    </div>\n                    <div id=\"add_card\" className=\"small_div op_passive\">\n                        <div>\n                            <div>\n                                <p>Card ID:</p>\n                                <input id=\"add_card_cardid\" maxLength=\"10\" ></input>\n                            </div>\n                        </div>\n                        <input id=\"add_card_butt\" className=\"operation_button\" type=\"submit\" \n                                value=\"Add Card\" onClick={this.handle_add_card}></input>\n                    </div>\n                    <div id=\"show_persons\" className=\"list_div op_passive\">\n                        <ListPersons persons={this.state.filtered_persons} handle_show={this.handle_show}\n                                        handle_filter_person={this.handle_filter_person}\n                                        div_1={document.getElementById(\"personcard_menu\")}></ListPersons>\n                    </div>\n                    <div id=\"delete_card\" className=\"list_div op_passive\">\n                        <ListCards cards={this.state.filtered_cards} handle_delete={this.handle_delete_card}\n                                        handle_filter_card={this.handle_filter_card}></ListCards>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Personcard"]},"metadata":{},"sourceType":"module"}