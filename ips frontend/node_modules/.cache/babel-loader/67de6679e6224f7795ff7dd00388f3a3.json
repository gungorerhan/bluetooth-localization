{"ast":null,"code":"var _jsxFileName = \"/home/gungorerhan/Dev/bluetooth-localization/ips frontend/src/components/Heatmap.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Base64 } from 'js-base64';\nimport './Heatmap.css';\nimport plan from './img/floor_plan_erhan.png';\n\nclass Heatmap extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.get_locations = () => {\n      if (document.getElementById(\"begin_date\").value === '' || document.getElementById(\"begin_hour\").value === '' || document.getElementById(\"end_date\").value === '' || document.getElementById(\"end_hour\").value === '') {} else {\n        var begin_date = document.getElementById(\"begin_date\").value + \" \" + document.getElementById(\"begin_hour\").value + \":00\";\n        var end_date = document.getElementById(\"end_date\").value + \" \" + document.getElementById(\"end_hour\").value + \":00\";\n\n        if (end_date > begin_date) {\n          var url = 'https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/position/heatmap?';\n          url = url + 'startTime=\"' + begin_date + '\"';\n          url = url + '&endTime=\"' + end_date + '\"';\n          axios.get(url).then(res => {\n            const data = res.data;\n            var fp = document.getElementById(\"heatmap_floor\");\n            var hm = \"data:image/png;base64,\" + data;\n            fp.style.backgroundImage = `url(${hm})`;\n            this.forceUpdate();\n          });\n        }\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"heatmap_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"heatmap_input_div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      id: \"heatmap_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"select time interval\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"begin time\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"date:\"), React.createElement(\"input\", {\n      id: \"begin_date\",\n      type: \"date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"hour:\"), React.createElement(\"input\", {\n      id: \"begin_hour\",\n      type: \"time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"end time\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"date:\"), React.createElement(\"input\", {\n      id: \"end_date\",\n      type: \"date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"hour:\"), React.createElement(\"input\", {\n      id: \"end_hour\",\n      type: \"time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      className: \"heatmap_submit\",\n      type: \"submit\",\n      value: \"Show\",\n      onClick: this.get_locations,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"heatmap_show\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Heatmap\"), React.createElement(\"p\", {\n      id: \"begin_p_tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      id: \"end_p_tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"heatmap_floor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Heatmap;","map":{"version":3,"sources":["/home/gungorerhan/Dev/bluetooth-localization/ips frontend/src/components/Heatmap.js"],"names":["React","Component","axios","Base64","plan","Heatmap","get_locations","document","getElementById","value","begin_date","end_date","url","get","then","res","data","fp","hm","style","backgroundImage","forceUpdate","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Base64 } from 'js-base64'; \nimport './Heatmap.css';\nimport plan from './img/floor_plan_erhan.png';\n\n\nclass Heatmap extends Component {\n\n    // get heatmap from server\n    get_locations = () =>{\n        if(document.getElementById(\"begin_date\").value === ''\n            || document.getElementById(\"begin_hour\").value === ''\n            || document.getElementById(\"end_date\").value === ''\n            || document.getElementById(\"end_hour\").value === ''){\n        }\n        else{\n            var begin_date = document.getElementById(\"begin_date\").value + \" \" \n            + document.getElementById(\"begin_hour\").value + \":00\";\n\n            var end_date = document.getElementById(\"end_date\").value + \" \" \n            + document.getElementById(\"end_hour\").value + \":00\";\n\n            if(end_date > begin_date){\n            \n                \n                var url = 'https://t7ftvwr8bi.execute-api.eu-central-1.amazonaws.com/cors/position/heatmap?';\n                url = url + 'startTime=\"' + begin_date + '\"';\n                url = url + '&endTime=\"' + end_date + '\"';\n\n\n                axios.get(url)\n                    .then(res => {\n                    const data = res.data;\n                    \n                    var fp = document.getElementById(\"heatmap_floor\");\n                    var hm = \"data:image/png;base64,\" + data;\n                    fp.style.backgroundImage = `url(${hm})`;\n                    \n                    this.forceUpdate();\n                    \n                });\n            }\n        }\n    \n    } \n    render(){\n        return(\n            <div id=\"heatmap_container\">\n                <div id=\"heatmap_input_div\">\n                    <h2 id=\"heatmap_title\">select time interval</h2>\n                    <h3 >begin time</h3>\n                    <div>\n                        <p>date:</p>\n                        <input id=\"begin_date\" type=\"date\"></input>\n                    </div>\n                    <div>\n                        <p>hour:</p>\n                        <input id=\"begin_hour\" type=\"time\"></input>\n                    </div>\n                    <h3 >end time</h3>\n                    <div>\n                        <p>date:</p>\n                        <input id=\"end_date\" type=\"date\"></input>\n                    </div>\n                    <div>\n                        <p>hour:</p>\n                        <input id=\"end_hour\" type=\"time\"></input>\n                    </div>\n                    <input className=\"heatmap_submit\" type=\"submit\" value=\"Show\" onClick={this.get_locations}></input>\n                </div>\n                <div id=\"heatmap_show\">\n                    <h1>Heatmap</h1>\n                    <p id=\"begin_p_tag\"></p>\n                    <p id=\"end_p_tag\"></p>\n                    <div id=\"heatmap_floor\">\n                        \n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Heatmap\n"]},"metadata":{},"sourceType":"module"}